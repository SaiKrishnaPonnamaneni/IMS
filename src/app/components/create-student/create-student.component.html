<h3 class="text-center text-info">{{id?'Edit Student':'Create Student'}}</h3>
<div class="parent flex-center">
    <div class="form-container">
        <form [formGroup]="studentForm"> 
          <div class="form-group row">
            <label for=" " class="col-sm-2 col-form-label col-form-label-sm">Name:</label>
            <div class="col-sm-10">
              <input type="text" formControlName="name" class="form-control form-control-sm" id="colFormLabelSm" placeholder="Name">
              <div class="error" *ngIf="studentForm.get('name')?.touched && studentForm.get('name')?.invalid">
                <p *ngIf="studentForm.get('name')?.errors?.['required']">Name is required</p>
              </div>
            </div>
          </div>
          <div class="form-group row">
              <label for="gender" class="col-sm-2 col-form-label col-form-label-sm">Gender:</label>
              <div class="col-sm-10">
                  <div class="form-check form-check-inline ml-1 mr-2">
                      <input type="radio" formControlName="gender" name= "gender" class="form-check-input" id="male" value="Male">
                      <label class="form-check-label" for="male">Male</label>
                  </div>
                  <div class="form-check form-check-inline ml-1">
                      <input type="radio" formControlName="gender" name="gender" class="form-check-input" id="female" value="Female">
                      <label class="form-check-label" for="female">Female</label>
                  </div>
                  <div class="error" *ngIf="studentForm.get('gender')?.touched && studentForm.get('gender')?.invalid">
                    <p *ngIf="studentForm.get('gender')?.errors?.['required']">Gender is required</p>
                  </div>
            </div>
          </div>
          <div class="form-group row">
            <label for=" " class="col-sm-2 col-form-label col-form-label-sm">Mobile:</label>
            <div class="col-sm-10">
              <input type="text" formControlName="mobile" class="form-control form-control-sm" id="colFormLabelSm" placeholder="number">
              <div class="error" *ngIf="studentForm.get('mobile')?.touched && studentForm.get('mobile')?.invalid">
                <p *ngIf="studentForm.get('mobile')?.errors?.['required']">Mobile is required</p>
                <p *ngIf="studentForm.get('mobile')?.errors?.['min']">Minimum 10 digits required</p>
                <p *ngIf="studentForm.get('mobile')?.errors?.['max']">Maxmum 10 digits required</p>
                <p *ngIf="studentForm.get('mobile')?.errors?.['pattern']">Only numbers are allowed</p>
              </div>
            </div>
          </div>
          <div class="form-group row">
              <label for=" " class="col-sm-2 col-form-label col-form-label-sm">Email:</label>
              <div class="col-sm-10">
                <input type="email" formControlName="email" class="form-control form-control-sm" id="colFormLabelSm" placeholder="Email">
                <div class="error" *ngIf="studentForm.get('email')?.touched && studentForm.get('email')?.invalid">
                  <p *ngIf="studentForm.get('email')?.errors?.['required']">Email is required</p>
                </div>
              </div>
          </div>
          <div class="form-group row">
              <label for=" " class="col-sm-2 col-form-label col-form-label-sm">Batch:</label>
              <div class="col-sm-10">
                <input type="date" formControlName="batch" class="form-control form-control-sm" id="colFormLabelSm" placeholder="Batch">
                <div class="error" *ngIf="studentForm.get('batch')?.touched && studentForm.get('batch')?.invalid">
                  <p *ngIf="studentForm.get('batch')?.errors?.['required']">Batch is required</p>
                </div>
              </div>
          </div>
          <div class="form-group row" formGroupName="address">
              <label for=" " class="col-sm-2 col-form-label col-form-label-sm">Address:</label>
              <div class="col-sm-10">
                  <div class="form-group row">
                      <label for=" " class="col-sm-2 col-form-label col-form-label-sm">City:</label>
                      <div class="col-sm-10">
                        <input type="text" formControlName="city" class="form-control form-control-sm" id="colFormLabelSm" placeholder="city">
                      </div>
                  </div>
                  <div class="form-group row">
                      <label for=" " class="col-sm-2 col-form-label col-form-label-sm">Mandal:</label>
                      <div class="col-sm-10">
                        <input type="text" formControlName="mandal" class="form-control form-control-sm" id="colFormLabelSm" placeholder="Mandal">
                      </div>
                  </div>
                  <div class="form-group row">
                      <label for=" " class="col-sm-2 col-form-label col-form-label-sm">District:</label>
                      <div class="col-sm-10">
                        <input type="text" formControlName="district" class="form-control form-control-sm" id="colFormLabelSm" placeholder="District">
                        <div class="error" *ngIf="studentForm.get('address')?.get('district')?.touched && studentForm.get('address')?.get('district')?.invalid">
                          <p *ngIf="studentForm.get('address')?.get('district')?.errors?.['required']">District is required</p>
                        </div>
                      </div>
                  </div>
                  <div class="form-group row">
                      <label for=" " class="col-sm-2 col-form-label col-form-label-sm">State:</label>
                      <div class="col-sm-10">
                        <input type="text" formControlName="state" class="form-control form-control-sm" id="colFormLabelSm" placeholder="State">
                      </div>
                  </div>
                  <div class="form-group row">
                      <label for=" " class="col-sm-2 col-form-label col-form-label-sm">Pincode:</label>
                      <div class="col-sm-10">
                        <input type="text" formControlName="pincode" class="form-control form-control-sm" id="colFormLabelSm" placeholder="Pincode">
                        <div class="error" *ngIf="studentForm.get('address')?.get('pincode')?.touched && studentForm.get('address')?.get('pincode')?.invalid">
                          <p *ngIf="studentForm.get('address')?.get('pincode')?.errors?.['required']">Pincode is required</p>
                          <p *ngIf="studentForm.get('address')?.get('pincode')?.errors?.['maxlength']">Maxlength is 6 digits</p>
                        </div>
                      </div>
                  </div>
              </div>
          </div>
          <label for="">Education</label>&#160;
          <button class="btn btn-info" (click)="addEducation()">Add Education</button><br><br>
          
          <div formArrayName="education">
              <div *ngFor="let education of educationFormArray.controls; let i=index">
                  <div [formGroupName]="i">
                      <h2>Education {{i + 1}}</h2>
          
                      <div class="form-group row">
                          <label for="" class="col-sm-2 col-form-label col-form-label-sm">Qualification:</label>
                          <div class="col-sm-10">
                              <input type="text" formControlName="qualification" class="form-control form-control-sm" placeholder="Qualification">
                          </div>
                      </div>
          
                      <div class="form-group row">
                          <label for="" class="col-sm-2 col-form-label col-form-label-sm">Year:</label>
                          <div class="col-sm-10">
                              <input type="text" formControlName="year" class="form-control form-control-sm" placeholder="Year">
                          </div>
                      </div>
                      <div class="form-group row">
                          <label for="" class="col-sm-2 col-form-label col-form-label-sm">Percentage:</label>
                          <div class="col-sm-10">
                              <input type="text" formControlName="percentage" class="form-control form-control-sm" placeholder="Percentage">
                              <div class="error" *ngIf="educationFormArray.controls[i]?.get('percentage')?.touched && educationFormArray.controls[i]?.get('percentage')?.invalid">
                                <p *ngIf="educationFormArray.controls[i]?.get('percentage')?.errors?.['min']">Min percentage is 0</p>
                                <p *ngIf="educationFormArray.controls[i]?.get('percentage')?.errors?.['max']">Max percentage is 100</p>
                              </div>
                          </div>
                      </div>
                      <hr>
                       <button class="btn btn-danger" (click)="deleteEducation(i)">Delete</button>
                      <hr>
                  </div>
              </div>
          </div>
          <div class="form-group row" formGroupName="company">
            <label for=" " class="col-sm-2 col-form-label col-form-label-sm">Company:</label>
            <div class="col-sm-10">
                <div class="form-group row">
                    <label for=" " class="col-sm-2 col-form-label col-form-label-sm">Name:</label>
                    <div class="col-sm-10">
                      <input type="text" formControlName="name" class="form-control form-control-sm" id="colFormLabelSm" placeholder="Name">
                    </div>
                </div>
                <div class="form-group row">
                    <label for=" " class="col-sm-2 col-form-label col-form-label-sm">Location:</label>
                    <div class="col-sm-10">
                      <input type="text" formControlName="location" class="form-control form-control-sm" id="colFormLabelSm" placeholder="Location">
                    </div>
                </div>
                <div class="form-group row">
                    <label for=" " class="col-sm-2 col-form-label col-form-label-sm">Package:</label>
                    <div class="col-sm-10">
                      <input type="text" formControlName="package" class="form-control form-control-sm" id="colFormLabelSm" placeholder="Package">
                    </div>
                </div>
                <div class="form-group row">
                    <label for=" " class="col-sm-2 col-form-label col-form-label-sm">OfferDate:</label>
                    <div class="col-sm-10">
                      <input type="date" formControlName="offerDate" class="form-control form-control-sm" id="colFormLabelSm" placeholder="offerDate">
                    </div>
                </div>
            </div>
        </div>
        <div class="form-group row">
          <label for="" class="col-sm-2 col-form-label col-form-label-sm">sourceType:</label>
          <div class="col-sm-10">
            <div class="form-check form-check-inline ml-1 mr-2">
              <input type="radio" name="sourceType" formControlName="sourceType" class="form-check-input" id="direct" value="Direct">
              <label class="form-check-label" for="direct">Direct</label>
            </div>
            <div class="form-check form-check-inline ml-1">
              <input type="radio" name="sourceType" formControlName="sourceType" class="form-check-input" id="refer" value="Refer">
              <label class="form-check-label" for="refer">Refer</label>
            </div>
            <div class="form-check form-check-inline ml-1" *ngIf="studentForm.get('sourceType')?.value === 'Direct'">
              <label class="form-check-label" for="sourceFrom">SourceFrom:</label>
              <div class="form-check form-check-inline ml-1 mr-2">
                <input type="radio" name="sourceFrom" formControlName="sourceFrom" class="form-check-input" id="direct" value="SocialMedia">
                <label class="form-check-label" for="direct">SocialMedia</label>
              </div>
              <div class="form-check form-check-inline ml-1">
                <input type="radio" name="sourceFrom" formControlName="sourceFrom" class="form-check-input" id="refer" value="Office">
                <label class="form-check-label" for="refer">Office</label>
              </div>
            </div>
            <div class="form-check form-check-inline ml-1" *ngIf="studentForm.get('sourceType')?.value === 'Refer'">
              <label class="form-check-label" for="referralName">ReferralName:</label>
              <input type="text" formControlName="referralName" class="form-control" id="referralName">
            </div>
          </div>
        </div>        
            <button class="flex-center" class="btn btn-default" (click)="submit()">Submit</button>
      </form>
    </div>
</div>